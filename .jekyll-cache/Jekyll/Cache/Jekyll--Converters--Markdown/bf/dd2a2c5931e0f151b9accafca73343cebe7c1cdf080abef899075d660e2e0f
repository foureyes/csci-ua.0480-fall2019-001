I"R±<style>
h1.warning {
	background-color: #eaa;
}
</style>

<div class="panel panel-default">
	<div class="panel-heading">Homework #4</div>
	<div class="panel-body">

    <h1 id="express-make-a-site-that-looks-like-a-commandline-console----due-friday-march-29th-saturday-march-30th-by-11pm">Express Make a Site That Looks Like a Commandline Console!  - <strong>Due <s>Friday, March 29th</s> Saturday, March 30th</strong>, by 11PM</h1>

    <h2 id="overview">Overview</h2>

    <h3 id="description">Description</h3>

    <p>Create a site that provides a web, form-based &quot;Linux Shell&quot; supporting basic commands that can be performed on a remote &quot;fake&quot; in-memory file system. In this homework you&#39;ll be working with:</p>

    <ul>
      <li>Serving static files</li>
      <li>Middleware</li>
      <li>Handling forms, both GET and POST</li>
      <li>Templating</li>
      <li>A JavaScript Object Representation of a Simple File System</li>
    </ul>

    <p>You&#39;ll be creating 2 pages:</p>

    <ul>
      <li><strong>home</strong> - <code>/</code>: a basic form that allows users to select a distribution of Linux Operating System.</li>
      <li><strong>vfs (virtual file system)</strong> - <code>/vfs</code>: a page that allows users to manipulate resources of a virtual file system by submitting Linux commands through two forms and see system states returned from the server (This is an in-memory file system).</li>
    </ul>

    <p>Your directory layout should look similar with the following <strong>once you&#39;re done with the assignment</strong> (though it can deviate from this example based on your implementation):</p>

    <pre><code data-trim="" contenteditable="">
‚îú‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ package-lock.json
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ public
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ style.css
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ img
‚îÇ       ‚îú‚îÄ‚îÄ redhat.png
‚îÇ       ‚îú‚îÄ‚îÄ debian.png
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ ubuntu.jpg
‚îú‚îÄ‚îÄ views
‚îÇ   ‚îú‚îÄ‚îÄ layout.hbs
‚îÇ   ‚îú‚îÄ‚îÄ directory.hbs
‚îÇ   ‚îú‚îÄ‚îÄ open.hbs
‚îÇ   ‚îú‚îÄ‚îÄ terminal.hbs
‚îÇ   ‚îî‚îÄ‚îÄ index.hbs
‚îÇ
‚îî‚îÄ‚îÄ vfs
    ‚îú‚îÄ‚îÄ init.json
    ‚îî‚îÄ‚îÄ FileSystem.js
</code></pre>

    <p>In the <strong>views</strong> directory, you are not required to have the same files as above. If you&#39;d like, you can use template partials to reduce redundant markup. This was not covered in class, but you can check out the <a href="https://www.npmjs.com/package/hbs#helpers-and-partials">documentation on partials in the hbs module&#39;s npm page</a>.</p>

    <p>The focus of this homework is the implementation of GET and POST forms and the creation of a fake / <em>virtual</em> file system. While using css is required, the amount and complexity of actual styling is your discretion. <strong>The assignment is not graded on aesthetics</strong>, so complex styles are not required. There are suggestions on styling, <strong>but you are free to dictate the look and feel of site</strong> (by using css and images as <em>static files</em> in <code class="highlighter-rouge">public</code>).</p>

    <h3 id="example-interaction">Example Interaction</h3>

    <div class="img">
<!--![interaction](../resources/img/hw04-asciidiary-mainexample.gif)-->
<img width="75%" src="../resources/img/hw04-file-system-example.gif" />

</div>

    <h3 id="submission-process">Submission Process</h3>

    <ol>
      <li>You will be given access to a private repository on GitHub</li>
      <li>The final version of your assignment should be in GitHub</li>
      <li><strong>Push</strong> your changes to the homework repository on GitHub by the due date.</li>
    </ol>

    <h3 id="points-make-at-least-4-commits">(4 points) Make at Least 4 Commits</h3>

    <ul>
      <li>Commit multiple times throughout your development process.</li>
      <li>Make at least 4 separate commits - (for example, one option may be to make one commit per part in the homework).</li>
    </ul>

    <h2 id="part-1---setup">Part 1 - Setup</h2>

    <h3 id="installing-dependencies">Installing Dependencies</h3>

    <ul>
      <li>create a <code>package.json</code></li>
      <li><strong>install</strong> the following <strong>dependencies</strong> (make sure you use the <code>--save</code> option)
        <ul>
          <li><code>express</code></li>
          <li><code>hbs</code></li>
          <li><code>moment</code></li>
        </ul>
      </li>
    </ul>

    <h3 id="gitignore">.gitignore</h3>

    <ul>
      <li>create a <code>.gitignore</code></li>
      <li>ignore the following files:
        <ul>
          <li><code>node_modules</code></li>
          <li>any other files that aren&#39;t relevant to the project&#8230; for example
            <ul>
              <li><code>.DS_Store</code> if you&#39;re on OSX</li>
              <li><code>.swp</code> if you use vim as your editor</li>
              <li>etc.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>

    <h3 id="linting">linting</h3>

    <ul>
      <li>an eslint configuration file (for example <code class="highlighter-rouge">.eslintrc.json</code>) should be in the root directory (or copy one from a previous project if it doesn&#39;t exist)</li>
      <li>make sure that any global linting tools are installed (<code class="highlighter-rouge">eslint</code>)</li>
      <li>periodically lint your program as you work</li>
    </ul>

    <h2 id="part-2---a-fake--virtual-remote-file-system">Part 2 - A Fake / <em>Virtual</em> Remote File System</h2>

    <h3 id="overview-1">Overview</h3>

    <p>In this homework, you&#39;ll create an Express application that displays a background image of three Linux distributions (or some styling of your choice), and a shell-like interface implemented by HTML forms. Users send shell commands via GET and POST requests through the forms to a server. The server dispatches requests to operate on a in-memory virtual file system using these commands, and responds with the state of the virtual file system.</p>

    <p>The file system will be implemented using JavaScript object; it will represent the state of the virtual file system. Additionally, use an ES6 class to encapsulate the data and interact with the virtual file system represented by the data.</p>

    <p>You can assume that your application will process http requests serially; you don&#39;t have to handle any race conditions.</p>

    <p>This part contains four major components.</p>

    <ol>
      <li>Serving static files</li>
      <li>An Express Server</li>
      <li>The Virtual File System</li>
      <li>Templating</li>
    </ol>

    <h3 id="serving-static-files">Serving Static Files</h3>

    <p>In this section, you&#39;ll work with the built-in Express static middleware to serve images and css. <strong>Again, you are free to have your own styles, as long as they are served through <code class="highlighter-rouge">express.satatic</code> / the <code class="highlighter-rouge">public</code> folder</strong>. The following description is based on the reference solution&#39;s styles.</p>

    <p>In the demo, the static files include css for basic styling and desktop images of 3 different Linux operating systems: Ubuntu, Debian and Redhat.</p>

    <ul>
      <li>To serve static files, create the following directory structure in your project&#39;s root directory
        <ul>
          <li><code>public</code></li>
          <li><code>public/css</code></li>
          <li><code>public/img</code></li>
        </ul>
      </li>
      <li>Add a blank css file in <code>public/css/style.css</code></li>
      <li>Add images that you&#39;ll use for styling
        <ul>
          <li>You can use your own images&#8230;</li>
          <li>Or use a screen capture of various desktops:
            <ul>
              <li><a href="../resources/img/hw04-ubuntu.jpg">Ubuntu</a></li>
              <li><a href="../resources/img/hw04-debian.png">Debian</a></li>
              <li><a href="../resources/img/hw04-redhat.png">RedHat</a>.</li>
              <li>(You can stretch, tile, etc. to fill the background if you like, as these images are fixed dimensions)</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>You&#39;ll test these static assets later on</li>
    </ul>

    <h3 id="file-system">File System</h3>

    <p>In this section, you&#39;ll mimic a Linux file system through JavaScript.</p>

    <p>In Linux, The file system is implemented as a tree. The root of this tree is the root directory and is denoted as <code>/</code>. Each node in this tree represents a file. If a node is a leaf, then it is a file, otherwise it is a directory (Note: in Linux, a file can be a file or a directory). Each node stores metadata about the directory / file. The children of a node is another nested file system tree. To search for a file, perform tree traversal to find the node.</p>

    <h3 id="commands">Commands</h3>

    <p>Commands will be chosen and issued through forms on an html page. The forms will send requests to the server, and the server will read or modify the virtual file system based on the form data. The commands you&#39;ll implement include:</p>

    <ol>
      <li><code>ls</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/dir]</code></li>
          <li><strong>Options</strong>: <code>-l</code>show file metadata <code>.</code></li>
          <li><strong>Output</strong>: shows a list of all files in the directory specified by argument
            <ul>
              <li>by default, only the names of all the files in the directory are listed
                <ul>
                  <li>the names are listed in the order that they appear in the directory node</li>
                  <li>(this is different from the <em>actual</em> behavior of <code class="highlighter-rouge">ls</code> which sorts by name - <em>kind</em> of)</li>
                </ul>
              </li>
              <li>however, with the -l option:
  	* each line in the resulting listing shows information about files or directories contained in the directory
                <ul>
                  <li>the information is file / directory metadata: <code>file_type (d or -), permissions, number of hard links, owner, group, size, last-modified data, file name</code>
  	* an example directory is: <code>drwxr--r-- 1 root root 6 Feb 25 11:20 bin</code>
  	* An example file is: <code>-rwxr--r-- 1 root root 6 Feb 25 11:20 file.txt</code></li>
                </ul>
              </li>
              <li>for more information, please refer to <a href="https://en.wikipedia.org/wiki/Ls">ls</a>.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><code>tree</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/dir]</code></li>
          <li><strong>Options</strong>: <code>None</code></li>
          <li><strong>Output</strong>:
            <ul>
              <li>displays the file system tree under <code>[path/to/dir]</code></li>
              <li>names of files / directories are nested underneath eachother through indentation</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><code>cat</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/filename, filename]</code></li>
          <li><strong>Options</strong>: <code>None</code></li>
          <li><strong>Output</strong>:
            <ul>
              <li>the contents of the file (assume files contain just text)</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><code>mkdir</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/dir, dirname]</code></li>
          <li><strong>Options</strong>: <code>None</code></li>
          <li><strong>Result</strong>:
            <ul>
              <li>create a directory under the given path if the <code>dirname</code> of directory does not present</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><code>write</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/filename, content]</code></li>
          <li><strong>Options</strong>: <code>None</code></li>
          <li><strong>Result</strong>:
            <ul>
              <li>overwrite the file by given content if the <code>filename</code> exists, otherwise create a new file named <code>filename</code> with <code>content</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>

    <p>‚ö†Ô∏è‚ö†Ô∏è ‚ö†Ô∏è   since you are not going to implement <code>cd</code>, <strong>every path in the argument list</strong> is an <strong>ABSOLUTE PATH</strong>.</p>

    <h3 id="in-memory-file-system">In-memory File System</h3>

    <p>Now, you&#39;ll implement an in-memory file system in a class called <code class="highlighter-rouge">FileSystem</code> (within <code>FileSystem.js</code>) by encapsulating the <strong>state of file system</strong> as properties and using <strong>methods</strong> for manipulating the file system.</p>

    <p>When the server is initialized (that is, before it starts listening on a port):</p>

    <ul>
      <li>it reads in a JSON file, <code class="highlighter-rouge">init.json</code></li>
      <li>parses the JSON&#8230;</li>
      <li>instantiates a <code class="highlighter-rouge">FileSystem</code> class given initial state of the file system</li>
      <li>you&#39;ll have to careful when you do this, as you&#39;ll want to instantiate this object and start your server <strong>after</strong> reading <code class="highlighter-rouge">init.json</code></li>
      <li>‚ö†Ô∏è‚ö†Ô∏è ‚ö†Ô∏è &#8230;consequently, you&#39;ll likely have to put <code class="highlighter-rouge">listen</code> and the creation of <code class="highlighter-rouge">FileSystem</code> within a callback!</li>
    </ul>

    <p>While the server is running:</p>

    <ul>
      <li>it dispatches the client&#39;s requested actions to methods and modifies or reads the state of the file system</li>
      <li>consequently, the majority of your file system logic will live in a class rather than within the route handling functions of your Express application.</li>
    </ul>

    <h3 id="initial-state-of-file-system">Initial State of File System</h3>

    <p>You&#39;ll be given a file, <code class="highlighter-rouge">init.json</code>, that contains the initial structure of the file system.</p>

    <p>The initial file system is represented by a nested JSON object - essentially a tree of objects with keys as file and directory names and objects as meta data about that file or directory. The JSON file has hardcoded dates and times, but when adding new files and directories, you can use <a href="https://momentjs.com/docs/">Moment JS</a> to get a formatted string representing the current time. Here are a few examples of what the data structure backing the virtual file system may look like (you can also check out <code class="highlighter-rouge">vfs/init.json)</code>:</p>

    <h4 id="directory">Directory</h4>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'dir-name': {
    'permission': file type and file mode (drwxr--r--),
    'hard-links': arbitrary number,
    'owner-name': arbitrary string,
    'owner-group': arbitrary string,
    'last-modified': you can use moment.js - moment().format('MMM DD HH:mm'),
    'size': arbitrary number (can be random_,
    'files': {
        // a nested structure of more directories or files as JSON objects
    },
}
</code></pre></div>    </div>

    <h4 id="file">File</h4>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'file-name': {
            'permission': '-rwxr--r--',
            'hard-links': 1,
            'owner-name': 'root',
            'owner-group': 'root',
            'last-modified': you can use moment.js - moment().format('MMM DD HH:mm'),

            'size': 6,
            'content': 'Hello World!'
        }
</code></pre></div>    </div>

    <h4 id="an-example-of-files-and-directories-in-context-note-that-the-file-system-is-wrapped-in-an-object-with-a-property-called-fs">An example of files and directories in context (note that the file system is wrapped in an object with a property called fs):</h4>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"fs": {
		'/': {
			'permission': 'drwxr--r--',
			'hard-links': 1,
			'owner-name': 'root',
			'owner-group': 'root',
			'last-modified': moment().format('MMM DD HH:mm'),
			'size': 6,
			'files': {
				'bin': {
					'permission': 'drwxr--r--',
					'hard-links': 1,
					'owner-name': 'root',
					'owner-group': 'root',
					'last-modified': moment().format('MMM DD HH:mm'),
					'size': 6,
					'files': {
					}
				},
				.... More files ...
			}
	}
}
</code></pre></div>    </div>

    <h3 id="the-file-system-class">The File System Class</h3>

    <p>To work with your virtual file system, implement a <code class="highlighter-rouge">FileSystem</code> class in <code class="highlighter-rouge">vfs/FileSystem.js</code> and export it so that the routes in <code class="highlighter-rouge">app.js</code> can use it. You can use the <strong>parsed</strong> JSON to initialize this object with file system data.  ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  You can design this <code class="highlighter-rouge">FileSystem</code> class <strong>any way you like,</strong> as long as you use it to encapsulate the state of the virtual file system.</p>

    <p>Here are some suggestions (but, again, ‚ö†Ô∏è <strong>feel free to do this any way you like&#8230; as there are no expectations or tests for your implementation</strong>):</p>

    <ol>
      <li><code>constructor</code>
        <ul>
          <li><strong>Arguments</strong>: <code>object</code> - an object representing a virtual file system (note that this is <em>not</em> a JSON string, but rather, pass in an object that&#39;s the result of parsing a JSON string)</li>
        </ul>
      </li>
      <li><code>find</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/file]</code></li>
          <li><strong>Description</strong>: traverse the file system nodes to find the file or directory. After the file or directory is found, return an object representing the file system subtree rooted at this file or directory. After the file is found, put the metadata of the current file into the returned object.</li>
        </ul>
      </li>
      <li><code>traverseAndList</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/file]</code></li>
          <li><strong>Description</strong>: this method is for <code>ls</code> command. If the path points to a directory, return a list of objects representation of the files under this directory. Otherwise, return an empty list.</li>
        </ul>
      </li>
      <li><code>makeDirectory</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/dir, directory name]</code></li>
          <li><strong>Description</strong>: first call find to get the object associated with <code>dir</code>, then create a new entry in this directory. The file type is directory. Other metadata can be generated randomly (but see some specifications below).</li>
          <li><strong>Requirements</strong>:
            <ul>
              <li>The file type should be <code class="highlighter-rouge">d</code></li>
              <li>The last-modified-date should be generated by <code class="highlighter-rouge">momentJS</code> with date format <code class="highlighter-rouge">MMM DD HH:mm</code></li>
              <li>The name of key to store directories and files should be <code class="highlighter-rouge">files</code></li>
              <li>Others can be arbitrary</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><code>cat</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/file]</code></li>
          <li><strong>Description</strong>: returns the content of the file (if it&#39;s a file), otherwise return error messages (e.g., cat: No such file or directory)</li>
        </ul>
      </li>
      <li><code>write</code>
        <ul>
          <li><strong>Arguments</strong>: <code>[path/to/file, content]</code></li>
          <li><strong>Description</strong>: use find to get the object of the <strong>directory</strong> on given path (HINT: use file type in the permission string). If the file exists, overwrite it by <code>content</code>. Otherwise create a new entry in this object with the property name as the given file name and content written (remember the name of new entries should be different from any name of other keys in the objects - there shouldn&#39;t be two files with the same name).</li>
          <li><strong>Requirements</strong>:
            <ul>
              <li>The file type should be <code class="highlighter-rouge">-</code></li>
              <li>The last-modified-date should be generated by <code class="highlighter-rouge">momentJS</code> with date format <code class="highlighter-rouge">MMM DD HH:mm</code></li>
              <li>The name of key to store file content should be <code class="highlighter-rouge">content</code></li>
              <li>Others can be arbitrary</li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>

    <p>Here&#39;s what the class may look like (you are not required to follow this exact class definition, though!):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class FileSystem {
    constructor (obj) {
        /*    Params: obj representing the virtual file system */
    }

    find(path) {
        /*    Params:  query path.
         *    Example:
         *       /path/to/this/file
         *       ['', 'path', 'to', 'this', 'file']
         */
    }

    traverseAndList(path) {
        /* Params:
         *    A list of directoies destructured from the path.
         */
    }

    makeDirectory(path, dirName) {
        /* Params:
         *    A list of directoies destructured from the path,
         *    the directory name that is going to create
         *    Example:
         *       /path/to/this/file
         *       ['', 'path', 'to', 'this', 'file']
         */
    }

    cat(path) {
        /* Params:
         *    A list of directoies destructured from the path.
         *    Example:
         *       /path/to/this/file
         *       ['', 'path', 'to', 'this', 'file']
         */
    }

    write(path, content) {
        /* Params:
         *    A list of directoies destructured from the path,
         *    and the content ready to be written to the file
         *    Example:
         *       /path/to/this/file
         *       ['', 'path', 'to', 'this', 'file']
         */
    }
}
</code></pre></div>    </div>

    <h3 id="express-application">Express Application</h3>

    <p>In this section, you&#39;ll implement an Express application that interacts with the <code class="highlighter-rouge">FileSystem</code> class implemented in the previous section.</p>

    <h3 id="setup--middleware">Setup / Middleware</h3>

    <ul>
      <li>Create a basic express application called <code>app.js</code>
        <ul>
          <li>make sure that your application is <strong>served over port 3000</strong></li>
        </ul>
      </li>
      <li>Add the following middleware to your application
        <ul>
          <li><code>express.urlencoded</code> (this is a built-in middleware function; no installation needed): this will help you parse the body in <code>POST</code> requests</li>
          <li>see <a href="../slides/10/forms.html#/6">the slides on POST forms for setup</a></li>
        </ul>
      </li>
      <li>Serve static files:
        <ul>
          <li>check out the <a href="../../slides/08/express.html#/29">slides on serving static files with Express</a></li>
          <li>test that both the css files and image work after running <code>app.js</code> (these are the files that you placed in the <code class="highlighter-rouge">public</code> directory earlier on)
            <ul>
              <li>for example, try to curl <code>http://localhost:3000/img/ubuntu.jpg</code> or go that url in your browser</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Import a class from the module <code>FileSystem.js</code></li>
      <li>Enable <code>Handlebars</code> for templating in a later section</li>
    </ul>

    <h3 id="templating">Templating</h3>

    <p>In this part, you&#39;ll work with HTML and templating to build your front-end.  You don&#39;t have to implement the interface exactly the same as examples provided (styling is required, but it can be minimal, and it does not have to match the images below). Basic pages for a functional system, however, are required. <strong>You are free to style your app using any approach. Following description is based on the demo gif as an example for explaining goals of this part.</strong></p>

    <ul>
      <li>Set up handlebars - <a href="../../slides/09/templating.html">these slides</a>
        <ul>
          <li>Get all the requirements and config setup</li>
          <li>Create the appropriate views folder, along with an initial layout file:
            <ul>
              <li><code>views</code></li>
              <li><code>views/layout.hbs</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>

    <p>In <code>layout.hbs</code></p>

    <ul>
      <li>Create a title tag with text <code>OS</code></li>
      <li>Create appropriate tags inside <code>head</code></li>
      <li>Create <code>body</code> tag</li>
      <li>Link your <code>style.css</code> stylesheet
        <ul>
          <li>A basic <code>style.css</code> is provided, you can modify it if you want a different style</li>
        </ul>
      </li>
    </ul>

    <h3 id="routes">Routes</h3>

    <p>In this section, you&#39;ll implement callback handlers to serve responses to browser requests. There are two urls that your application will respond to: <strong><code>/</code> and <code>/vfs</code></strong></p>

    <ul>
      <li><code class="highlighter-rouge">/</code> will handle <code class="highlighter-rouge">GET</code> requests only</li>
      <li><code class="highlighter-rouge">/vfs</code> will accept both <code class="highlighter-rouge">GET</code> and <code class="highlighter-rouge">POST</code>
        <ul>
          <li>this means you&#39;ll likely have two route handlers for <code class="highlighter-rouge">vfs</code></li>
          <li>for the route that handles a <code class="highlighter-rouge">POST</code> request, you&#39;ll be able to access both <code class="highlighter-rouge">req.query</code> and <code class="highlighter-rouge">req.body</code> (if a <code class="highlighter-rouge">POST</code> is made to a path that also contains a query string)</li>
        </ul>
      </li>
    </ul>

    <p>A URL is a resource identifier and the resource in this homework is our virtual file system. The semantic here is using HTTP verbs to manipulate the file system located at <code>/vfs</code>. GETs will read from the file system while POSTs will add to the file system.</p>

    <p><code>GET</code> requests:</p>

    <ul>
      <li><code>/</code>: renders an index page <code>index.hbs</code></li>
      <li><code>/vfs</code>:
        <ul>
          <li>Receives three parameters <code>command</code>, <code>path</code>, <code>option</code></li>
          <li>Parse <code>path</code> appropriately, call <code>find</code> method defined in <code>fileSystem</code> object</li>
          <li>Call appropriate methods in the class given by <code>command</code></li>
          <li>Use <code>option</code> parameters if necessarily</li>
          <li>Render an appropriate HTML page and pass a context containing the information retrieve from the file system</li>
        </ul>
      </li>
    </ul>

    <p><code>POST</code> requests</p>

    <ul>
      <li><code>/vfs</code>
        <ul>
          <li>Receive three parameters <code>command</code>, <code>path</code>, <code>content</code></li>
          <li>Parse <code>path</code> appropriately, call <code>find</code> method defined in <code>fileSystem</code> object</li>
          <li>Call appropriate methods in the class given by <code>command</code></li>
          <li>Use <code>option</code> parameters if necessarily</li>
          <li>Render an appropriate HTML page and pass a context containing the message showing success or failure</li>
          <li>‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è Typically, POST requests result in a redirect to prevent form resubmission. In this application, you can render the template directly rather than redirect, since we don&#39;t currently have a way of &quot;sending&quot; the result of the operation to another route handler</li>
        </ul>
      </li>
    </ul>

    <h3 id="creating-a-home-page-">Creating a Home Page (<code class="highlighter-rouge">/</code>)</h3>

    <p>The home page consists of a dropdown menu with options for users to select different types of styling for the next page. Each option in the dropdown should result in a different look and feel. This can be implemented by using <code class="highlighter-rouge">req.query</code> to do any of the following:</p>

    <ul>
      <li>conditionally render different templates</li>
      <li>within templates conditionally include different images</li>
      <li>within templates conditionally use different markup</li>
      <li>etc.</li>
    </ul>

    <p>Note, however, that regardless of how the styling differs, <code class="highlighter-rouge">express.static</code> must be used to serve <code class="highlighter-rouge">.css</code> and/or images.</p>

    <p>Your app should receive <code>GET</code> requests on the path, <code>/</code>:</p>

    <ul>
      <li>In your <code>index.hbs</code>
        <ul>
          <li>Create a form with attributes below
            <ol>
              <li><code>action="http://localhost:3000/vfs"</code> (may be different if the server listens on other ports)</li>
              <li><code>method="GET"</code></li>
            </ol>
          </li>
          <li>In this form, create a <code>select</code> dropdown <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select">see mdn&#39;s docs for dropdown markup</a> with:
            <ol>
              <li>a <code>name</code> attribute (this should match with what you reference in <code class="highlighter-rouge">req.query</code>)</li>
              <li>and two or three <code>option</code> elements with <code>value</code> and <code>text</code> equal to the name of selected operating system (this basically switches the style!)</li>
            </ol>
          </li>
          <li>Lastly, to create a submit button, use an <code>input</code> with <code>type</code> of <code class="highlighter-rouge">submit</code></li>
          <li>When this form is submitted, a query string is attached to the GET request&#8230; with the query string determining different styling for the <code class="highlighter-rouge">vfs</code> page (for example, different background images, different markup, etc.)
            <ul>
              <li>this means that the route for <code class="highlighter-rouge">vfs</code> should always check <code class="highlighter-rouge">req.query</code> to determine what design elements should be shown)</li>
            </ul>
          </li>
          <li>Below is an example for selecting three OS distributions in the next page <code>terminal.hbs</code></li>
        </ul>
      </li>
    </ul>

    <div class="img">
      <p><img src="../resources/img/hw04-file-system-homepage.png" width="100%" />
<img src="../resources/img/hw04-file-system-homepage-dropdown.png" width="100%" /></p>
    </div>

    <h3 id="creating-two-forms-for-submitting-commands-and-arguments">Creating two forms for submitting commands and arguments</h3>

    <p>In <code>terminal.hbs</code>, create two forms that will allow the user to interact with the virtual file system (again, this page will be styled based on a query string):</p>

    <ul>
      <li>Create a <code>GET</code> form
        <ol>
          <li><code>action="http://localhost:3000/vfs"</code> (may be different if the server listens on other ports)</li>
          <li><code>method="GET"</code></li>
          <li>In this form, add three HTML input tags: <code>command</code>, <code>option</code>, and <code>path</code></li>
          <li>Add a submit button with type of <code>submit</code></li>
          <li>Note that this form has the same <code class="highlighter-rouge">action</code> url as the homepage form</li>
          <li>You can also add a hidden input that set the value of the query string that you use for styling so that it remains persistent</li>
        </ol>
      </li>
      <li>Create a <code>POST</code> form
        <ol>
          <li><code>action="http://localhost:3000/vfs"</code></li>
          <li><code>method="post"</code></li>
          <li>In this form, add three HTML input tags: <code>command</code>, <code>path</code>, and <code>content</code></li>
          <li>Add a submit button with type of <code>submit</code></li>
        </ol>
      </li>
      <li>Examples:</li>
    </ul>
    <div class="img">
      <p><img src="../resources/img/hw04-file-system-ubuntu.png" width="100%" />
<img src="../resources/img/hw04-file-system-debian.png" width="100%" /></p>
    </div>

    <h3 id="create-an-area-below-the-forms-that-contains-messages-sent-back-through-the-servers-http-response">Create an area below the forms that contains messages sent back through the server&#39;s HTTP response</h3>

    <p>For each command, the server responds with the state of file system or the status of the operation. In this section, you&#39;ll display this response by using templating and basic control structures in handlebars. (HINT: you&#39;ll use HBS template syntax for iterating over an array, an array of objects, and an object. Conditionals may also be useful).</p>

    <p>‚ö†Ô∏è‚ö†Ô∏è ‚ö†Ô∏è - <strong>Universal Requirements for Each Command</strong></p>

    <ul>
      <li><strong>In either <code class="highlighter-rouge">path</code> field, the leading forward slash (<code class="highlighter-rouge">/</code>) may be omitted (the path should still be treated as if it were an absolute path, though)</strong></li>
      <li><strong>In either <code class="highlighter-rouge">path</code> field, if the path is left blank, then assume it is root (<code class="highlighter-rouge">/</code>)</strong></li>
      <li><strong>There can only be one option in the option field, and it should be preceded with a dash, <code class="highlighter-rouge">-</code></strong></li>
    </ul>

    <h3 id="commands-and-examples">Commands and Examples</h3>

    <h3 id="ls"><code>ls</code></h3>
    <ol>
      <li>Example form data 1:
        <ul>
          <li>command: <code class="highlighter-rouge">ls</code></li>
          <li>option: <code class="highlighter-rouge">-l</code></li>
          <li>path: field left blank</li>
          <li>result shown on page:
            <pre><code data-trim="" contenteditable="">drwxr--r-- 1 root root 6 Feb 27 08:17 bin
drwxr--r-- 1 root root 6 Jan 20 12:45 home
drwxr--r-- 1 root root 6 Jan 05 08:02 lib
drwxr--r-- 1 root root 6 Mar 10 07:30 dev
</code></pre>
            <ul>
              <li>comments: leaving the path blank will default to listing the files and directories in <code class="highlighter-rouge">/</code></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Example form data  2:
        <ul>
          <li>command: <code class="highlighter-rouge">ls</code></li>
          <li>option: field left blank</li>
          <li>path: <code class="highlighter-rouge">/home</code></li>
          <li>result shown on page:
            <pre><code data-trim="" contenteditable="">foo.txt
es6.jpg</code></pre>
          </li>
          <li>comments:
            <ul>
              <li>leaving the option field blank will result in only the names of the files being displayed</li>
              <li>in this case, <code class="highlighter-rouge">foo.txt</code> and <code class="highlighter-rouge">es6.jpg</code> are the only two files contained within <code class="highlighter-rouge">/home</code></li>
              <li>note: <code class="highlighter-rouge">es6.jpg</code> is not really an image&#8230; it&#39;s just a file that has arbitrary text in it</li>
              <li>(if you want to get fancy though, you can have a link to a file in <code class="highlighter-rouge">public</code> and display that based on image extensions)</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>The server should pass files and directories into the template in the form of a list of objects.</li>
      <li>Display each file or directory in one line with just <code>name</code> if there are no options, or with <code class="highlighter-rouge">-l</code>, <code>file_type, permissions, number of hard links, owner, group, size, last-modified data, file name</code> (using <code class="highlighter-rouge">li</code>)</li>
      <li>If the path cannot be found or it&#39;s a file, output <code class="highlighter-rouge">ls: No such file or directory</code></li>
      <li>Example UI:
 with <code>-l</code> option
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-ls.png" width="100%" /></p>
        </div>
      </li>
      <li>Example UI:
 without <code>-l</code> option
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-ls-no-l.png" width="100%" /></p>
        </div>
      </li>
      <li>Example UI: <code>path</code> does not exist or it&#39;s a file:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-ls-not-exists.png" width="100%" /></p>
        </div>
      </li>
    </ol>

    <hr />

    <h3 id="tree"><code>tree</code></h3>

    <ol>
      <li>Example form data 1:
        <ul>
          <li>command: <code class="highlighter-rouge">tree</code></li>
          <li>option: field left blank</li>
          <li>path: field left blank</li>
          <li>result shown on page:
            <pre><code data-trim="" contenteditable="">bin
home
 es6.jpg
lib
 modules
        aba.txt
dev			
</code></pre>
            <ul>
              <li>comments: leaving the path blank will default to listing the files and directories in <code class="highlighter-rouge">/</code></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Example form data 1:
        <ul>
          <li>command: <code class="highlighter-rouge">tree</code></li>
          <li>option: field left blank</li>
          <li>path: <code class="highlighter-rouge">/lib</code></li>
          <li>result shown on page:
            <pre><code data-trim="" contenteditable="">modules
 aba.txt
</code></pre>
          </li>
          <li>comments: adding a path shows the tree under that path</li>
        </ul>
      </li>
      <li>Display the entire file system tree rooted at the <code class="highlighter-rouge">path</code> specified in the form</li>
      <li>Any way of showing the hierarchy would be accepted (such as varying levels of indentation or nested lists: <code class="highlighter-rouge">ol</code> and <code class="highlighter-rouge">li</code>).</li>
      <li>If the path cannot be found or it&#39;s a file, output <code class="highlighter-rouge">tree: No such file or directory</code></li>
      <li>Example UI:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-tree.png" width="100%" /></p>
        </div>
      </li>
      <li>Example UI: <code>path</code> does not exist or it&#39;s a file:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-tree-not-exists.png" width="100%" /></p>
        </div>
      </li>
    </ol>

    <hr />

    <h3 id="cat"><code>cat</code></h3>

    <ol>
      <li>Example form data:
        <ul>
          <li>command: <code class="highlighter-rouge">cat</code></li>
          <li>option: field left blank</li>
          <li>path: <code class="highlighter-rouge">/lib/modules/aba.txt</code></li>
          <li>result shown on page:
            <pre><code data-trim="" contenteditable="">hello world.</code></pre>
          </li>
        </ul>
      </li>
      <li>The server should respond with the contents of the file (a string).</li>
      <li>If the file cannot be found, output <code class="highlighter-rouge">cat: No such file or directory</code></li>
      <li>Example UI: if the file exists
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-cat.png" width="100%" /></p>
        </div>
      </li>
      <li>Example UI: <code>path</code> is not a file:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-write-not-exists.png" width="100%" /></p>
        </div>
      </li>
    </ol>

    <hr />

    <h3 id="mkdir"><code>mkdir</code></h3>

    <ol>
      <li>Example form data:
        <ul>
          <li>command: <code class="highlighter-rouge">mkdir</code></li>
          <li>path: <code class="highlighter-rouge">/lib/modules/</code></li>
          <li>content: <code class="highlighter-rouge">tmp</code></li>
          <li>result shown on page:
            <pre><code data-trim="" contenteditable="">aba.txt
tmp
</code></pre>
          </li>
          <li>comments:
            <ul>
              <li>note that the <code class="highlighter-rouge">content</code> field specifies the new directory name and <code class="highlighter-rouge">path</code> specifies where to create the new directory</li>
              <li>additionally, all of the files and directories in <code class="highlighter-rouge">path</code> are displayed (including the new one)</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>The server should reply with a list of files and directories after the directory is created</li>
      <li>If the directory (<code>content</code>) already exists, output <code class="highlighter-rouge">mkdir: ${dirName} : File exists</code></li>
      <li>If the <code>path</code> not found, output <code class="highlighter-rouge">mkdir: No such file or directory</code></li>
      <li>Example UI: after creating a directory <code>tmp</code>:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-af-mkdir.png" width="100%" /></p>
        </div>
      </li>
      <li>Example UI: create <code>tmp</code> when <code>tmp</code> exists:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-mkdir-exists.png" width="100%" /></p>
        </div>
      </li>
      <li>Example UI: <code>path</code> does not exist or it&#39;s a file:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-mkdir-no-path-found.png" width="100%" /></p>
        </div>
      </li>
    </ol>
    <hr />

    <h3 id="write"><code>write</code></h3>

    <ol>
      <li>Example form data (creating <code class="highlighter-rouge">foo.txt</code> under <code class="highlighter-rouge">/lib/modules</code>):
        <ul>
          <li>command: <code class="highlighter-rouge">write</code></li>
          <li>path: <code class="highlighter-rouge">/lib/modules/foo.txt</code></li>
          <li>content: <code class="highlighter-rouge">bar,baz,qux,quux</code></li>
          <li>result shown on page: nothing is shown to the user (use cat or ls to verify creation of file)</li>
        </ul>
      </li>
      <li>If successful, no message should be displayed</li>
      <li>The operation can be checked by submitting a request with the <code class="highlighter-rouge">cat</code> command</li>
      <li>If writing fails, output <code class="highlighter-rouge">write: No such file or directory</code></li>
      <li>Example UI: <code>path</code> does not exist:
        <div class="img">
          <p><img src="../resources/img/hw04-file-system-write-no-path-found.png" width="100%" /></p>
        </div>
        <h2 id="documentation">Documentation</h2>
      </li>
    </ol>

    <p>‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  To help graders find your usage of the <code class="highlighter-rouge">FileSystem</code> class, use <a href="https://help.github.com/en/articles/creating-a-permanent-link-to-a-code-snippet">GitHub&#39;s documentation for linking to code</a> to add links to the following:</p>

    <ul>
      <li>the part of your code that instantiates the <code class="highlighter-rouge">FileSystem</code> class with an object (from parsed JSON) being used to bootstrap it with some initial virtual file system data</li>
      <li>one example of using the instance of <code class="highlighter-rouge">FileSystem</code> to provide the data needed to fulfill a request&#8230;
        <ul>
          <li><strong>example</strong>: if there&#39;s a <code class="highlighter-rouge">POST</code> to <code class="highlighter-rouge">vfs</code> with <code class="highlighter-rouge">ls</code> as the form input</li>
          <li>show the part of your code where a method is called on your instance of <code class="highlighter-rouge">FileSystem</code></li>
          <li>&#8230;that gives back a list of files that are eventually put into a rendered template</li>
        </ul>
      </li>
    </ul>

  </div>



</div>
:ET