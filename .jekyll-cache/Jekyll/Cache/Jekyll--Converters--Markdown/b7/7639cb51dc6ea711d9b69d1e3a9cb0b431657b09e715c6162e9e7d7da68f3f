I"<section class="intro-slide">
  <h1 id="heroku">Heroku</h1>

  <h3 id="csci-ua0480-001">CSCI-UA.0480-001</h3>

  <p><small></small></p>
</section>

<section>
  <h2 id="heroku-and-mongolab">Heroku and MongoLab</h2>

  <p>We can deploy our Express / MongoDB apps using <strong>Heroku</strong> and <strong>MongoLab</strong>. Both have <em>free</em> plans (though you need a credit card to link the two together).</p>

  <ul>
    <li>Heroku is a cloud service for deploying web applications
      <ul>
        <li>not server based</li>
        <li>your application is allocated <em>dynos</em> instead (I think of them as processes)</li>
      </ul>
    </li>
    <li>MongoLab is a MongoDB service</li>
  </ul>

</section>
<section>
  <h2 id="first-step---prepping-your-application">First Step - Prepping Your Application</h2>

  <ul>
    <li>git
      <ul>
        <li>use git for your application&#39;s version control</li>
        <li>simply git init within your application&#39;s directory (you don&#39;t necessarily need github)</li>
      </ul>
    </li>
    <li>.gitignore
      <ul>
        <li>add a .gitignore file</li>
        <li><strong>make sure to exclude node_modules</strong></li>
      </ul>
    </li>
  </ul>
</section>

<section>
  <h2 id="the-heroku-toolbelt">The Heroku <em>Toolbelt</em></h2>

  <p>Heroku has a commandline tool for managing and deploying applications.</p>

  <ul>
    <li>sign up for heroku</li>
    <li>get the toolbelt
      <ul>
        <li>https://devcenter.heroku.com/articles/getting-started-with-nodejs#set-up</li>
      </ul>
    </li>
  </ul>
</section>
<section>
  <h2 id="authentication-and-specifying-your-app">Authentication and Specifying Your App</h2>

  <p>Auth using toolbelt using the following command:</p>

  <pre><code data-trim="" contenteditable="">
heroku login
</code></pre>

  <p>(choose which key you&#39;d like to use if you have multiple ssh keys)</p>

  <p>Use this to create a Heroku App from your project directory:</p>

  <pre><code data-trim="" contenteditable="">
heroku create
</code></pre>
</section>

<section>
  <h2 id="sending-your-code-to-heroku">Sending Your Code to Heroku</h2>

  <p>From your project directory:</p>

  <ul>
    <li>push your branch to the heroku remote</li>
    <li>the command should look like:</li>
  </ul>

  <p><br /></p>

  <pre><code data-trim="" contenteditable="">
git push heroku master
</code></pre>

</section>

<section>
  <h2 id="mongolab">MongoLab</h2>

  <ul>
    <li>set up an account at mongolab.com</li>
    <li>(verify email address)</li>
    <li>add mongolab to your app:
      <ul>
        <li>heroku addons:add mongolab</li>
        <li>or https://addons.heroku.com/mongolab</li>
      </ul>
    </li>
    <li>they&#39;ll want a cc</li>
    <li>free sandbox account not really intended for prod use, though!</li>
  </ul>
</section>

<section>
  <h2 id="getting-the-two-to-work-together">Getting the Two to Work Together!</h2>

  <ul>
    <li>heroku config to get connection string</li>
    <li>modify your db.js</li>
    <li>push to heroku master again</li>
    <li>heroku open</li>
    <li>check out logs! heroku logs &#8211;tail</li>
  </ul>
</section>

<section>
  <h2 id="prod--dev-configurations">Prod / Dev Configurations</h2>

  <p>Hrm. not great, eh?&#8230; <strong>What&#39;s wrong with our database configuration?</strong></p>

  <p class="fragment">Both our development and prod environments point to the same database!</p>

  <pre class="fragment"><code data-trim="" contenteditable="">
mongo_connection = process.env.MONGO_URI || 'mongodb://localhost/imageboarddb';
</code></pre>

  <p class="fragment">And&#8230; configure heroku to use an environment variable:</p>

  <pre class="fragment"><code data-trim="" contenteditable="">
heroku config:add MONGO_URI=mongodb://your.domain/yourdb
</code></pre>
</section>
:ET